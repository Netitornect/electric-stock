2025.01.02 Thursday
14:40 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ ‡πÅ‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å‡∏Ñ‡∏™‡∏•‡∏™‡∏π‡∏á 1 ‡∏ä‡∏±‡πâ‡∏ô_20240403.pdf
2025.01.04 Saturday
14:45 Netitorn Montriwat Photos
14:47 Netitorn Montriwat 065-032-7808 ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏™‡∏Å‡∏™‡∏£‡∏£‡∏Ñ‡πå ‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥‡πÇ‡∏ã‡∏•‡πà‡∏≤‡∏£‡πå‡πÄ‡∏ã‡∏•‡∏•‡πå 
2025.01.06 Monday
16:51 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.01.16 Thursday
10:51 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.01.21 Tuesday
13:33 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.01.23 Thursday
18:56 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
18:56 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Videos
18:56 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Videos
18:56 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
18:56 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.01.24 Friday
17:28 Netitorn Montriwat ‡∏•‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ Lumira LWSPD-PV800 SPD 2P DC 800V, 1000V ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ü‡πâ‡∏≤‡∏ú‡πà‡∏≤ ‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏à‡∏Å‡∏±‡∏ô‡∏ü‡πâ‡∏≤‡∏ú‡πà‡∏≤ ‡∏Å‡∏±‡∏ô‡∏ü‡πâ‡∏≤‡∏ú‡πà‡∏≤ DC ‡πÑ‡∏ü‡∏Å‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏™‡∏≥‡∏£‡∏±‡∏ö‡πÇ‡∏ã‡∏•‡πà‡∏≤‡πÄ‡∏ã‡∏•‡∏•‡πå ‡∏ò‡∏±‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡∏Ç‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤ ‡∏ø155 ‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ Shopee ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢! https://th.shp.ee/YQXCtjq
17:40 Netitorn Montriwat ‡∏•‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ Lumira ‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå DC ‡∏£‡∏∏‡πà‡∏ô BA49-63 MCB 1000V DC Solar Breaker ‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡πÇ‡∏ã‡∏•‡πà‡∏≤‡πÄ‡∏ã‡∏•‡∏•‡πå ‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡πÄ‡∏Å‡∏≤‡∏∞‡∏£‡∏≤‡∏á 1000VDC ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ó‡πâ ‡∏ò‡∏±‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡∏Ç‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤ ‡∏ø85 ‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ Shopee ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢! https://th.shp.ee/9ubXmYF
17:43 Netitorn Montriwat ‡∏•‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ Worldsunlight Haber ‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå DC 2P ‡∏£‡∏∏‡πà‡∏ô XL7-63 MCB 500V ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å16A 20A 32A 63A Breaker ‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡πÇ‡∏ã‡∏•‡πà‡∏≤‡πÄ‡∏ã‡∏•‡∏•‡πå ‡∏ò‡∏±‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡∏Ç‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤ ‡∏ø125 ‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ Shopee ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢! https://th.shp.ee/XdUL4eJ
2025.01.26 Sunday
09:51 Netitorn Montriwat Canceled
17:44 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.01.31 Friday
16:35 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
18:54 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.02.12 Wednesday
13:38 Netitorn Montriwat https://maps.app.goo.gl/g3Q3BVaSFqmUWgfT7?g_st=com.google.maps.preview.copy
2025.03.01 Saturday
09:16 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.03.06 Thursday
15:44 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.03.15 Saturday
15:29 Netitorn Montriwat Added a new note.
2025.03.19 Wednesday
13:33 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.03.31 Monday
13:15 Netitorn Montriwat Added a new note.
18:39 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
18:43 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.04.08 Tuesday
09:26 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.04.18 Friday
18:09 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Videos
2025.04.19 Saturday
11:35 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.04.20 Sunday
14:56 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.04.23 Wednesday
15:15 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.05.01 Thursday
10:31 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.05.16 Friday
16:03 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.05.17 Saturday
14:07 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏ö‡∏¥‡∏•‡∏Ç‡∏≠‡∏á‡∏Å‡∏¥‡πä‡∏ü57√ó40.pdf
2025.05.27 Tuesday
14:58 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
23:56 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.05.28 Wednesday
11:24 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.05.31 Saturday
20:38 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.06.21 Saturday
18:45 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.06.30 Monday
15:40 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
21:23 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.07.01 Tuesday
13:07 ‡πÄ‡∏ô‡∏ï‡∏¥‡∏ò‡∏£ Photos
2025.07.14 Monday
12:34 Netitorn Montriwat from flask import Flask, request, render_template, redirect
import sqlite3
from datetime import datetime

app = Flask(__name__)

def init_db():
    conn = sqlite3.connect('stock.db')
    c = conn.cursor()
    c.execute('''CREATE TABLE IF NOT EXISTS products
                 (id INTEGER PRIMARY KEY, name TEXT, quantity INTEGER, last_updated TEXT)''')
    conn.commit()
    conn.close()

@app.route('/')
def index():
    conn = sqlite3.connect('stock.db')
    c = conn.cursor()
    c.execute("SELECT * FROM products")
    items = c.fetchall()
    conn.close()
    return render_template('index.html', items=items)

@app.route('/add', methods=['POST'])
def add():
    name = request.form['name']
    qty = int(request.form['quantity'])
    now = datetime.now().strftime("%Y-%m-%d %H:%M")
    
    conn = sqlite3.connect('stock.db')
    c = conn.cursor()
    c.execute("SELECT * FROM products WHERE name=?", (name,))
    result = c.fetchone()
    if result:
        new_qty = result[2] + qty
        c.execute("UPDATE products SET quantity=?, last_updated=? WHERE name=?", (new_qty, now, name))
    else:
        c.execute("INSERT INTO products (name, quantity, last_updated) VALUES (?, ?, ?)", (name, qty, now))
    conn.commit()
    conn.close()
    return redirect('/')

@app.route('/sell', methods=['POST'])
def sell():
    name = request.form['name']
    qty = int(request.form['quantity'])

    conn = sqlite3.connect('stock.db')
    c = conn.cursor()
    c.execute("SELECT * FROM products WHERE name=?", (name,))
    result = c.fetchone()
    if result and result[2] >= qty:
        new_qty = result[2] - qty
        now = datetime.now().strftime("%Y-%m-%d %H:%M")
        c.execute("UPDATE products SET quantity=?, last_updated=? WHERE name=?", (new_qty, now, name))
        conn.commit()
    conn.close()
    return redirect('/')

if __name__ == '__main__':
    init_db()
    app.run(debug=True, host='0.0.0.0', port=5000)
12:41 Netitorn Montriwat <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Å</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        table, th, td { border: 1px solid #333; border-collapse: collapse; padding: 8px; }
        input[type="text"], input[type="number"] { width: 150px; }
    </style>
</head>
<body>
    <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Å</h1>

    <h2>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</h2>
    <table>
        <tr><th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th><th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th><th>‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th></tr>
        {% for item in items %}
            <tr><td>{{ item[1] }}</td><td>{{ item[2] }}</td><td>{{ item[3] }}</td></tr>
        {% endfor %}
    </table>

    <h2>‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤</h2>
    <form action="/add" method="post">
        <input type="text" name="name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" required>
        <input type="number" name="quantity" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" required>
        <button type="submit">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
    </form>

    <h2>‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å</h2>
    <form action="/sell" method="post">
        <input type="text" name="name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" required>
        <input type="number" name="quantity" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" required>
        <button type="submit">‡∏Ç‡∏≤‡∏¢</button>
    </form>
</body>
</html>
13:14 Netitorn Montriwat ‡∏õ‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏≠‡∏û
13:14 Netitorn Montriwat <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Å</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light py-4">

<div class="container">
    <h1 class="mb-4 text-center">üì¶ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Å</h1>

    <div class="mb-4">
        <h4>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</h4>
        <table class="table table-bordered table-striped">
            <thead class="table-dark">
                <tr>
                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                    <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                    <th>‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                <tr>
                    <td>{{ item[1] }}</td>
                    <td>{{ item[2] }}</td>
                    <td>{{ item[3] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="row">
        <!-- ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤ -->
        <div class="col-md-6 mb-4">
            <h4>üì• ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤</h4>
            <form action="/add" method="post" class="border p-3 bg-white shadow-sm rounded">
                <div class="mb-3">
                    <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                    <input type="text" name="name" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏û‡∏±‡∏î‡∏•‡∏°" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
                    <input type="number" name="quantity" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô 10" required>
                </div>
                <button type="submit" class="btn btn-success">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤</button>
            </form>
        </div>

        <!-- ‡∏à‡∏≥‡∏´‡∏ô‡πà‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
        <div class="col-md-6 mb-4">
            <h4>üì§ ‡∏à‡∏≥‡∏´‡∏ô‡πà‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å</h4>
            <form action="/sell" method="post" class="border p-3 bg-white shadow-sm rounded">
                <div class="mb-3">
                    <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                    <input type="text" name="name" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏û‡∏±‡∏î‡∏•‡∏°" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
                    <input type="number" name="quantity" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô 3" required>
                </div>
                <button type="submit" class="btn btn-danger">‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å</button>
            </form>
        </div>
    </div>
</div>

<!-- Bootstrap JS (Optional for interactive elements) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
13:22 Netitorn Montriwat ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î db
13:22 Netitorn Montriwat c.execute('''CREATE TABLE IF NOT EXISTS products
             (id INTEGER PRIMARY KEY, name TEXT, category TEXT, quantity INTEGER, last_updated TEXT)''')
13:24 Netitorn Montriwat ‡∏≠‡∏±‡∏û‡∏´‡∏ô‡πâ‡∏≤ web
13:24 Netitorn Montriwat <div class="mb-3">
    <label class="form-label">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</label>
    <select name="category" class="form-select" required>
        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà --</option>
        <option value="‡∏ó‡∏µ‡∏ß‡∏µ">‡∏ó‡∏µ‡∏ß‡∏µ</option>
        <option value="‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô">‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô</option>
        <option value="‡πÅ‡∏≠‡∏£‡πå">‡πÅ‡∏≠‡∏£‡πå</option>
        <option value="‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤</option>
    </select>
</div>
13:31 Netitorn Montriwat c.execute("SELECT * FROM products WHERE name=?", (name,))
result = c.fetchone()
if result:
    new_qty = result[3] + qty  # index ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ column ‡πÄ‡∏û‡∏¥‡πà‡∏°
    c.execute("UPDATE products SET quantity=?, last_updated=? WHERE name=?", (new_qty, now, name))
else:
    c.execute("INSERT INTO products (name, category, quantity, last_updated) VALUES (?, ?, ?, ?)",
              (name, category, qty, now))
13:33 Netitorn Montriwat <h4>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</h4>
<table class="table table-bordered table-striped">
    <thead class="table-dark">
        <tr>
            <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
            <th>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</th>
            <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
            <th>‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th>
        </tr>
    </thead>
    <tbody>
        {% for item in items %}
        <tr>
            <td>{{ item[1] }}</td>
            <td>{{ item[2] }}</td>
            <td>{{ item[3] }}</td>
            <td>{{ item[4] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
13:38 Netitorn Montriwat ‡∏≠‡∏±‡∏û‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î ‡∏°‡∏µ category
13:38 Netitorn Montriwat from flask import Flask, render_template, request, redirect
import sqlite3
from datetime import datetime
import os

app = Flask(__name__)

DB_FILE = "stock.db"

# ---------- ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ----------
def init_db():
    conn = sqlite3.connect(DB_FILE)
    c = conn.cursor()
    c.execute('''CREATE TABLE IF NOT EXISTS products (
                    id INTEGER PRIMARY KEY,
                    name TEXT,
                    category TEXT,
                    quantity INTEGER,
                    last_updated TEXT
                )''')
    conn.commit()
    conn.close()

# ---------- ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å ----------
@app.route('/')
def index():
    conn = sqlite3.connect(DB_FILE)
    c = conn.cursor()
    c.execute("SELECT * FROM products")
    items = c.fetchall()
    conn.close()
    return render_template('index.html', items=items)

# ---------- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ----------
@app.route('/add', methods=['POST'])
def add_item():
    name = request.form['name']
    category = request.form['category']
    qty = int(request.form['quantity'])
    now = datetime.now().strftime("%Y-%m-%d %H:%M:%S")

    conn = sqlite3.connect(DB_FILE)
    c = conn.cursor()

    # ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
    c.execute("SELECT * FROM products WHERE name=?", (name,))
    result = c.fetchone()
    if result:
        new_qty = result[3] + qty  # index 3 ‡∏Ñ‡∏∑‡∏≠ quantity
        c.execute("UPDATE products SET quantity=?, last_updated=? WHERE name=?",
                  (new_qty, now, name))
    else:
        c.execute("INSERT INTO products (name, category, quantity, last_updated) VALUES (?, ?, ?, ?)",
                  (name, category, qty, now))

    conn.commit()
    conn.close()
    return redirect('/')

# ---------- ‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å ----------
@app.route('/sell', methods=['POST'])
def sell_item():
    name = request.form['name']
    qty = int(request.form['quantity'])
    now = datetime.now().strftime("%Y-%m-%d %H:%M:%S")

    conn = sqlite3.connect(DB_FILE)
    c = conn.cursor()

    c.execute("SELECT * FROM products WHERE name=?", (name,))
    result = c.fetchone()
    if result and result[3] >= qty:
        new_qty = result[3] - qty
        c.execute("UPDATE products SET quantity=?, last_updated=? WHERE name=?",
                  (new_qty, now, name))

    conn.commit()
    conn.close()
    return redirect('/')

# ---------- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° ----------
if __name__ == '__main__':
    if not os.path.exists(DB_FILE):
        init_db()
    app.run(debug=True, host='0.0.0.0')
13:41 Netitorn Montriwat ‡∏≠‡∏±‡∏û‡πÄ‡∏ß‡∏õ interface
13:41 Netitorn Montriwat <!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light py-4">

<div class="container">
    <h1 class="mb-4 text-center">üì¶ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h1>

    <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
    <div class="mb-5">
        <h4>üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</h4>
        <table class="table table-bordered table-striped">
            <thead class="table-dark">
                <tr>
                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                    <th>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</th>
                    <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                    <th>‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                <tr>
                    <td>{{ item[1] }}</td>
                    <td>{{ item[2] }}</td>
                    <td>{{ item[3] }}</td>
                    <td>{{ item[4] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤ -->
    <div class="row">
        <div class="col-md-6 mb-4">
            <h4>üì• ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤</h4>
            <form action="/add" method="post" class="border p-3 bg-white shadow-sm rounded">
                <div class="mb-3">
                    <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                    <input type="text" name="name" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏µ‡∏ß‡∏µ 32 ‡∏ô‡∏¥‡πâ‡∏ß" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</label>
                    <select name="category" class="form-select" required>
                        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà --</option>
                        <option value="‡∏ó‡∏µ‡∏ß‡∏µ">‡∏ó‡∏µ‡∏ß‡∏µ</option>
                        <option value="‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô">‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô</option>
                        <option value="‡πÅ‡∏≠‡∏£‡πå">‡πÅ‡∏≠‡∏£‡πå</option>
                        <option value="‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤</option>
                        <option value="‡∏≠‡∏∑‡πà‡∏ô ‡πÜ">‡∏≠‡∏∑‡πà‡∏ô ‡πÜ</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
                    <input type="number" name="quantity" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô 10" required>
                </div>
                <button type="submit" class="btn btn-success w-100">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤</button>
            </form>
        </div>

        <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å -->
        <div class="col-md-6 mb-4">
            <h4>üì§ ‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å</h4>
            <form action="/sell" method="post" class="border p-3 bg-white shadow-sm rounded">
                <div class="mb-3">
                    <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                    <input type="text" name="name" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏µ‡∏ß‡∏µ 32 ‡∏ô‡∏¥‡πâ‡∏ß" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
                    <input type="number" name="quantity" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô 2" required>
                </div>
                <button type="submit" class="btn btn-danger w-100">‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å</button>
            </form>
        </div>
    </div>
</div>

<!-- Bootstrap JS (optional) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
13:49 Netitorn Montriwat https://drive.google.com/drive/folders/11TM76KsIK_6ZJpi36h0vJAoFHi9Bg6CG?usp=sharing
13:53 Netitorn Montriwat ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î V.3
13:53 Netitorn Montriwat from flask import Flask, render_template, request, redirect
import sqlite3
from datetime import datetime
import os
from werkzeug.utils import secure_filename
from pydrive.auth import GoogleAuth
from pydrive.drive import GoogleDrive

UPLOAD_FOLDER = 'temp_uploads'
GOOGLE_FOLDER_ID = '11TM76KsIK_6ZJpi36h0vJAoFHi9Bg6CG'  # ‡∏û‡∏µ‡πà‡∏õ‡∏≤‡∏•‡πå‡∏°‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏°‡∏≤

app = Flask(__name__)
app.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER
if not os.path.exists(UPLOAD_FOLDER):
    os.makedirs(UPLOAD_FOLDER)

# ---------- Google Drive Auth ----------
gauth = GoogleAuth()
gauth.LocalWebserverAuth()
drive = GoogleDrive(gauth)

# ---------- DB Init ----------
def init_db():
    conn = sqlite3.connect('stock.db')
    c = conn.cursor()
    c.execute('''CREATE TABLE IF NOT EXISTS products (
        id INTEGER PRIMARY KEY,
        name TEXT,
        category TEXT,
        quantity INTEGER,
        image_url TEXT,
        last_updated TEXT
    )''')
    conn.commit()
    conn.close()

# ---------- Homepage ----------
@app.route('/')
def index():
    conn = sqlite3.connect('stock.db')
    c = conn.cursor()
    c.execute("SELECT * FROM products")
    items = c.fetchall()
    conn.close()
    return render_template('index.html', items=items)

# ---------- Add Product ----------
@app.route('/add', methods=['POST'])
def add_item():
    name = request.form['name']
    category = request.form['category']
    qty = int(request.form['quantity'])
    now = datetime.now().strftime("%Y-%m-%d %H:%M:%S")

    image_url = None
    image = request.files.get('image')
    if image and image.filename != '':
        filename = secure_filename(image.filename)
        filepath = os.path.join(app.config['UPLOAD_FOLDER'], filename)
        image.save(filepath)

        gfile = drive.CreateFile({'parents': [{'id': GOOGLE_FOLDER_ID}], 'title': filename})
        gfile.SetContentFile(filepath)
        gfile.Upload()
        image_url = f"https://drive.google.com/uc?id={gfile['id']}"
        os.remove(filepath)

    conn = sqlite3.connect('stock.db')
    c = conn.cursor()

    c.execute("SELECT * FROM products WHERE name=? AND category=?", (name, category))
    result = c.fetchone()
    if result:
        new_qty = result[3] + qty
        c.execute("UPDATE products SET quantity=?, last_updated=? WHERE name=? AND category=?",
                  (new_qty, now, name, category))
    else:
        c.execute('''INSERT INTO products (name, category, quantity, image_url, last_updated)
                     VALUES (?, ?, ?, ?, ?)''', (name, category, qty, image_url, now))

    conn.commit()
    conn.close()
    return redirect('/')

# ---------- Sell Product ----------
@app.route('/sell', methods=['POST'])
def sell_item():
    name = request.form['name']
    category = request.form['category']
    qty = int(request.form['quantity'])
    now = datetime.now().strftime("%Y-%m-%d %H:%M:%S")

    conn = sqlite3.connect('stock.db')
    c = conn.cursor()
    c.execute("SELECT * FROM products WHERE name=? AND category=?", (name, category))
    result = c.fetchone()
    if result and result[3] >= qty:
        new_qty = result[3] - qty
        c.execute("UPDATE products SET quantity=?, last_updated=? WHERE name=? AND category=?",
                  (new_qty, now, name, category))

    conn.commit()
    conn.close()
    return redirect('/')

# ---------- ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡∏á‡∏Ñ‡∏•‡∏±‡∏á‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà ----------
@app.route('/report')
def report():
    conn = sqlite3.connect('stock.db')
    c = conn.cursor()
    c.execute("SELECT category, SUM(quantity) FROM products GROUP BY category")
    summary = c.fetchall()
    conn.close()
    return render_template('report.html', summary=summary)

# ---------- Start ----------
if __name__ == '__main__':
    init_db()
    app.run(debug=True)
13:53 Netitorn Montriwat Upgrade index V.3
13:53 Netitorn Montriwat <!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light py-4">

<div class="container">
    <h1 class="text-center mb-4">üì¶ ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h1>
    <a href="/report" class="btn btn-info mb-4">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡∏á‡∏Ñ‡∏•‡∏±‡∏á‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</a>

    <h4>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h4>
    <table class="table table-bordered table-striped">
        <thead class="table-dark">
            <tr>
                <th>‡∏ä‡∏∑‡πà‡∏≠</th>
                <th>‡∏´‡∏°‡∏ß‡∏î</th>
                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                <th>‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï</th>
                <th>‡∏£‡∏π‡∏õ</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
            <tr>
                <td>{{ item[1] }}</td>
                <td>{{ item[2] }}</td>
                <td>{{ item[3] }}</td>
                <td>{{ item[5] }}</td>
                <td>
                    {% if item[4] %}
                    <img src="{{ item[4] }}" width="80">
                    {% else %}
                    -
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="row">
        <!-- ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤ -->
        <div class="col-md-6 mb-4">
            <h4>üì• ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤</h4>
            <form method="post" action="/add" enctype="multipart/form-data" class="bg-white p-3 border rounded shadow-sm">
                <input type="text" name="name" class="form-control mb-2" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" required>
                <select name="category" class="form-select mb-2" required>
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà --</option>
                    <option value="‡∏ó‡∏µ‡∏ß‡∏µ">‡∏ó‡∏µ‡∏ß‡∏µ</option>
                    <option value="‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô">‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô</option>
                    <option value="‡πÅ‡∏≠‡∏£‡πå">‡πÅ‡∏≠‡∏£‡πå</option>
                    <option value="‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤</option>
                </select>
                <input type="number" name="quantity" class="form-control mb-2" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" required>
                <input type="file" name="image" class="form-control mb-3" accept="image/*">
                <button type="submit" class="btn btn-success w-100">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤</button>
            </form>
        </div>

        <!-- ‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å -->
        <div class="col-md-6 mb-4">
            <h4>üì§ ‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å</h4>
            <form method="post" action="/sell" class="bg-white p-3 border rounded shadow-sm">
                <input type="text" name="name" class="form-control mb-2" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" required>
                <select name="category" class="form-select mb-2" required>
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà --</option>
                    <option value="‡∏ó‡∏µ‡∏ß‡∏µ">‡∏ó‡∏µ‡∏ß‡∏µ</option>
                    <option value="‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô">‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô</option>
                    <option value="‡πÅ‡∏≠‡∏£‡πå">‡πÅ‡∏≠‡∏£‡πå</option>
                    <option value="‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤</option>
                </select>
                <input type="number" name="quantity" class="form-control mb-3" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" required>
                <button type="submit" class="btn btn-danger w-100">‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å</button>
            </form>
        </div>
    </div>
</div>
</body>
</html>
13:54 Netitorn Montriwat Upgrade report
13:54 Netitorn Montriwat <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡∏á‡∏Ñ‡∏•‡∏±‡∏á</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light py-5">
<div class="container">
    <h2 class="text-center mb-4">üìä ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡∏á‡∏Ñ‡∏•‡∏±‡∏á‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</h2>
    <a href="/" class="btn btn-secondary mb-4">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö</a>
    <table class="table table-bordered table-striped">
        <thead class="table-dark">
            <tr>
                <th>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</th>
                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th>
            </tr>
        </thead>
        <tbody>
            {% for row in summary %}
            <tr>
                <td>{{ row[0] }}</td>
                <td>{{ row[1] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
</body>
</html>
15:19 Netitorn Montriwat Update storage on PC
Python app.py
15:19 Netitorn Montriwat from flask import Flask, render_template, request, redirect, send_from_directory
import sqlite3
import os
from datetime import datetime
from werkzeug.utils import secure_filename

UPLOAD_FOLDER = 'uploads'

app = Flask(__name__)
app.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER

# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå uploads ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ
if not os.path.exists(UPLOAD_FOLDER):
    os.makedirs(UPLOAD_FOLDER)

# ---------- ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ----------
def init_db():
    conn = sqlite3.connect('stock.db')
    c = conn.cursor()
    c.execute('''CREATE TABLE IF NOT EXISTS products (
        id INTEGER PRIMARY KEY,
        name TEXT,
        category TEXT,
        quantity INTEGER,
        image_name TEXT,
        last_updated TEXT
    )''')
    conn.commit()
    conn.close()

# ---------- ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å ----------
@app.route('/')
def index():
    conn = sqlite3.connect('stock.db')
    c = conn.cursor()
    c.execute("SELECT * FROM products")
    items = c.fetchall()
    conn.close()
    return render_template('index.html', items=items)

# ---------- ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤ ----------
@app.route('/add', methods=['POST'])
def add_item():
    name = request.form['name']
    category = request.form['category']
    qty = int(request.form['quantity'])
    now = datetime.now().strftime("%Y-%m-%d %H:%M:%S")

    image_name = None
    image = request.files.get('image')
    if image and image.filename != '':
        filename = secure_filename(image.filename)
        filepath = os.path.join(app.config['UPLOAD_FOLDER'], filename)
        image.save(filepath)
        image_name = filename

    conn = sqlite3.connect('stock.db')
    c = conn.cursor()
    c.execute("SELECT * FROM products WHERE name=? AND category=?", (name, category))
    result = c.fetchone()

    if result:
        new_qty = result[3] + qty
        c.execute("UPDATE products SET quantity=?, last_updated=? WHERE name=? AND category=?",
                  (new_qty, now, name, category))
    else:
        c.execute("INSERT INTO products (name, category, quantity, image_name, last_updated) VALUES (?, ?, ?, ?, ?)",
                  (name, category, qty, image_name, now))
    conn.commit()
    conn.close()
    return redirect('/')

# ---------- ‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å ----------
@app.route('/sell', methods=['POST'])
def sell_item():
    name = request.form['name']
    category = request.form['category']
    qty = int(request.form['quantity'])
    now = datetime.now().strftime("%Y-%m-%d %H:%M:%S")

    conn = sqlite3.connect('stock.db')
    c = conn.cursor()
    c.execute("SELECT * FROM products WHERE name=? AND category=?", (name, category))
    result = c.fetchone()

    if result and result[3] >= qty:
        new_qty = result[3] - qty
        c.execute("UPDATE products SET quantity=?, last_updated=? WHERE name=? AND category=?",
                  (new_qty, now, name, category))
    conn.commit()
    conn.close()
    return redirect('/')

# ---------- ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡∏á‡∏Ñ‡∏•‡∏±‡∏á ----------
@app.route('/report')
def report():
    conn = sqlite3.connect('stock.db')
    c = conn.cursor()
    c.execute("SELECT category, SUM(quantity) FROM products GROUP BY category")
    summary = c.fetchall()
    conn.close()
    return render_template('report.html', summary=summary)

# ---------- ‡πÅ‡∏™‡∏î‡∏á‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å uploads ----------
@app.route('/uploads/<filename>')
def uploaded_file(filename):
    return send_from_directory(app.config['UPLOAD_FOLDER'], filename)

# ---------- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ----------
if __name__ == '__main__':
    init_db()
    app.run(debug=True, host='0.0.0.0', port=5000)  # ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏ß‡∏á LAN
15:20 Netitorn Montriwat Index V4.
15:20 Netitorn Montriwat <!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Å</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light py-4">
<div class="container">
    <h2 class="mb-4">üì¶ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Å</h2>
    <a href="/report" class="btn btn-info mb-3">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡∏á‡∏Ñ‡∏•‡∏±‡∏á‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î</a>

    <table class="table table-bordered">
        <thead class="table-dark">
            <tr>
                <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                <th>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</th>
                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                <th>‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th>
                <th>‡∏£‡∏π‡∏õ</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
            <tr>
                <td>{{ item[1] }}</td>
                <td>{{ item[2] }}</td>
                <td>{{ item[3] }}</td>
                <td>{{ item[5] }}</td>
                <td>
                    {% if item[4] %}
                    <img src="/uploads/{{ item[4] }}" width="80">
                    {% else %}
                    -
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="row">
        <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤ -->
        <div class="col-md-6">
            <h4>üì• ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤</h4>
            <form method="post" action="/add" enctype="multipart/form-data" class="border p-3 bg-white rounded">
                <input type="text" name="name" class="form-control mb-2" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" required>
                <select name="category" class="form-select mb-2" required>
                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î</option>
                    <option>‡∏ó‡∏µ‡∏ß‡∏µ</option>
                    <option>‡πÅ‡∏≠‡∏£‡πå</option>
                    <option>‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô</option>
                    <option>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤</option>
                </select>
                <input type="number" name="quantity" class="form-control mb-2" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" required>
                <input type="file" name="image" class="form-control mb-3" accept="image/*">
                <button type="submit" class="btn btn-success w-100">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </form>
        </div>

        <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Ç‡∏≤‡∏¢‡∏≠‡∏≠‡∏Å -->
        <div class="col-md-6">
            <h4>üì§ ‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å</h4>
            <form method="post" action="/sell" class="border p-3 bg-white rounded">
                <input type="text" name="name" class="form-control mb-2" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" required>
                <select name="category" class="form-select mb-2" required>
                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î</option>
                    <option>‡∏ó‡∏µ‡∏ß‡∏µ</option>
                    <option>‡πÅ‡∏≠‡∏£‡πå</option>
                    <option>‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô</option>
                    <option>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤</option>
                </select>
                <input type="number" name="quantity" class="form-control mb-3" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏¢" required>
                <button type="submit" class="btn btn-danger w-100">‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
            </form>
        </div>
    </div>
</div>
</body>
</html>
15:20 Netitorn Montriwat Report V4.
15:20 Netitorn Montriwat <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡∏á‡∏Ñ‡∏•‡∏±‡∏á</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light py-5">
<div class="container">
    <h2 class="text-center mb-4">üìä ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡∏á‡∏Ñ‡∏•‡∏±‡∏á‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</h2>
    <a href="/" class="btn btn-secondary mb-4">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö</a>
    <table class="table table-bordered">
        <thead class="table-dark">
            <tr>
                <th>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</th>
                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th>
            </tr>
        </thead>
        <tbody>
            {% for row in summary %}
            <tr>
                <td>{{ row[0] }}</td>
                <td>{{ row[1] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
</body>
</html>